<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Home - FintechApp</title>
    <link rel="stylesheet" th:href="@{/css/home.css}">
    <link rel="stylesheet" th:href="@{/css/profileIcon.css}">
</head>
<body>

<!-- 🔝 Top bar con profilo -->
<header class="top-bar">
    <div class="logo">FintechApp</div>
    <div class="profile-container">
        <img th:src="@{/images/Profile.png}" id="profileIcon" class="profile-icon" alt="Profilo">

        <div id="userDropdown" class="dropdown-menu">
            <ul>
                <li><a th:href="@{/profilo}">Il mio profilo</a></li>
                <li><a th:href="@{/documenti}">Documenti</a></li>
                <li><a th:href="@{/impostazioni}">Impostazioni</a></li>
                <li><a th:href="@{/logout}">Logout</a></li>
            </ul>
        </div>
    </div>


</header>

<!-- 🏠 Sezione contenuti principali -->
<main class="dashboard">

    <!-- 💰 Saldo disponibile -->
    <section class="saldo">
        <h2>Saldo disponibile</h2>
        <p class="saldo-importo" th:text="${saldo} + ' €'">0.00 €</p>
    </section>

    <!-- 📄 Lista ultimi movimenti -->
    <section class="movimenti">

        <h2>Ultimi 5 Movimenti</h2>

        <table>
            <thead>
            <tr>
                <th>Mittente</th>
                <th>Destinatario</th>
                <th>Importo</th>
                <th>Data</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="movement : ${lastPayments}">
                <td th:text="${movement.sender}">Mario</td>
                <td th:text="${movement.receiver}">Luigi</td>
                <td th:text="${movement.amount} + ' €'">100 €</td>
                <td th:text="${#temporals.format(movement.date, 'dd/MM/yyyy HH:mm')}">22/07/2025</td>
            </tr>
            </tbody>
        </table>
    </section>

    <!-- 💳 Sezione pagamenti -->
    <nav class="menu">
        <ul>
            <li><a th:href="@{/pagamenti}"><i class="fa-solid fa-money-bill-transfer"></i> Pagamenti</a></li>
        </ul>
    </nav>

</main>

<!--<script th:src="@{/js/home.js}"></script>-->
<script th:src="@{/js/profileIcon.js}"></script>

</body>
</html>
