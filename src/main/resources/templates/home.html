<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Home - FintechApp</title>
    <link rel="stylesheet" th:href="@{/css/home.css}">
    <link rel="stylesheet" th:href="@{/css/profileIcon.css}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<div class="container">
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="logo">üè¶ FintechApp</div>
        <ul class="menu">
            <li class="active">Dashboard</li>
            <li><a th:href="@{/pagamenti}">Pagamenti</a></li>
            <li><a th:href="@{/carte}">Carte</a></li>
            <li><a th:href="@{/documenti}">Documenti</a></li>
            <li><a th:href="@{/impostazioni}">Impostazioni</a></li>
        </ul>
        <div class="logout"><a th:href="@{/logout}">Logout</a></div>
    </aside>

    <!-- Main content -->
    <main class="main">
        <header class="header">
            <div class="user-profile">
                <img th:src="@{/images/Profile.png}" alt="Profilo" id="profileIcon" class="profile-icon">
                <div id="userDropdown" class="dropdown-menu">
                    <ul>
                        <li><a th:href="@{/profilo}">Il mio profilo</a></li>
                        <li><a th:href="@{/documenti}">Documenti</a></li>
                        <li><a th:href="@{/impostazioni}">Impostazioni</a></li>
                        <li><a th:href="@{/logout}">Logout</a></li>
                    </ul>
                </div>
            </div>
        </header>

        <!-- Cards -->
        <section class="cards">
            <div class="card">
                <h3 th:text="${saldo} + ' ‚Ç¨'">0.00 ‚Ç¨</h3>
                <p>Saldo</p>
            </div>
            <div class="card">
                <h3 th:text="${entrate} + ' ‚Ç¨'">0.00 ‚Ç¨</h3>
                <p>Entrate</p>
            </div>
            <div class="card">
                <h3 th:text="${uscite} + ' ‚Ç¨'">0.00 ‚Ç¨</h3>
                <p>Uscite</p>
            </div>
<!--            <div class="card">-->
<!--                <h3 th:text="${risparmi} + ' ‚Ç¨'">0.00 ‚Ç¨</h3>-->
<!--                <p>Risparmi</p>-->
<!--            </div>-->
        </section>

        <!-- Chart -->
        <section class="chart-section">
            <h3>Finanze</h3>
            <canvas id="financeChart"></canvas>
        </section>

        <!-- Transaction History -->
        <section class="transactions">
            <h3>Ultimi 5 Movimenti</h3>
            <table>
                <thead>
                    <tr>
                        <th>Mittente</th>
                        <th>Destinatario</th>
                        <th>Importo</th>
                        <th>Data</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="movement : ${lastPayments}">
                        <td th:text="${movement.sender.id}">Mario</td>
                        <td th:text="${movement.receiver.id}">Luigi</td>
                        <td th:text="${movement.amount} + ' ‚Ç¨'">100 ‚Ç¨</td>
                        <td th:text="${#temporals.format(movement.date, 'dd/MM/yyyy HH:mm')}">22/07/2025</td>
                    </tr>
                </tbody>
            </table>
        </section>
    </main>

    <!-- Right panel -->
    <aside class="right-panel">
        <div class="my-card">
            <h3>La mia Carta</h3>
            <div class="card-img">
                <img src="https://via.placeholder.com/300x180" alt="Card">
            </div>
            <button class="btn">Aggiungi Carta</button>
        </div>

        <div class="quick-transaction">
            <h3>Transazione Rapida</h3>
            <div class="contacts">
                <img src="https://via.placeholder.com/40" alt="Contatto">
                <img src="https://via.placeholder.com/40" alt="Contatto">
                <img src="https://via.placeholder.com/40" alt="Contatto">
                <img src="https://via.placeholder.com/40" alt="Contatto">
            </div>
            <input type="text" placeholder="‚Ç¨ Importo">
            <button class="btn">Invia</button>
        </div>

        <div class="my-goals">
            <h3>I miei obiettivi</h3>
            <div class="goal">Nuovo PC <span>500 ‚Ç¨</span></div>
            <div class="goal">Vacanza <span>1.200 ‚Ç¨</span></div>
        </div>
    </aside>
</div>

<div th:replace="fragments/footer :: footer"></div>

<script th:src="@{/js/profileIcon.js}"></script>
<script th:src="@{/js/chart.js}"></script>
</body>
</html>
